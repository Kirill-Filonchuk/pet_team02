"use strict";(self.webpackChunkpet_team02=self.webpackChunkpet_team02||[]).push([[787],{7787:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var s,a,r=t(9439),i=t(2791),o=t(5048),c=t(7689),l=t(9273),d=t(2854),u=t(7692),p=t(9085),m=t(9567),x=t(5861),h=t(4687),j=t.n(h),f=t(5705),y=t(7018),w=t(985),b=t(168),k=t(6444),v=t(1087),S=t(1607),C=t(530),g=(0,k.ZP)(C.rj)(s||(s=(0,b.Z)(["\n  width: 100%;\n  margin: 12px 0 40px 0;\n  color: ",";\n  background-color: transparent;\n"])),S.r.colors.black),I=(0,k.ZP)(v.OL)(a||(a=(0,b.Z)(["\n  color: ",";\n  text-decoration: underline;\n"])),S.r.colors.blueLinks),Z=t(184),_=function(e){var n=(0,w.Z)().isPending;return(0,Z.jsxs)(Z.Fragment,{children:[n?(0,Z.jsx)(y.Z,{}):(0,Z.jsx)(C.rj,{style:{marginTop:2,marginBottom:e.isLastStep?0:40},type:"submit",name:"register",children:e.isLastStep?"Register":"Next"}),e.hasPrevious&&!n?(0,Z.jsx)(g,{type:"button",name:"back",onClick:e.onBackClick,children:"Back"}):null,(0,Z.jsxs)(C.hh,{children:[(0,Z.jsx)("span",{children:"Already have an account? "}),(0,Z.jsx)(I,{to:"/login",children:"Login"})]})]})},P=function(e){var n=e.children,t=e.initialValues,s=e.onSubmit,a=(e.errors,(0,i.useState)(0)),o=(0,r.Z)(a,2),c=o[0],l=o[1],d=i.Children.toArray(n),u=(0,i.useState)(t),p=(0,r.Z)(u,2),m=p[0],h=p[1],y=d[c],w=d.length,b=c===w-1,k=function(e){h(e),l(c+1)},v=function(){var e=(0,x.Z)(j().mark((function e(n,t){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.props.onSubmit){e.next=3;break}return e.next=3,y.props.onSubmit(n);case 3:if(!b){e.next=7;break}return e.abrupt("return",s(n,t));case 7:t.setTouched({}),k(n);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(f.J9,{initialValues:m,onSubmit:v,validationSchema:y.props.validationSchema,children:function(e){return(0,Z.jsxs)(C.ZR,{onSubmit:e.handleSubmit,children:[y,(0,Z.jsx)(_,{isLastStep:b,hasPrevious:c>0,onBackClick:function(){return n=e.values,h(n),void l(c-1);var n}})]})}})})},L=function(e){e.stepName;return e.children},z=t(2070),N=function(){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),t=n[0],s=n[1],a=(0,i.useState)(!1),x=(0,r.Z)(a,2),h=x[0],j=x[1],f=(0,o.I0)(),y=(0,c.s0)();return(0,Z.jsx)(C.$0,{children:(0,Z.jsx)(z.Z,{children:(0,Z.jsxs)(C.im,{children:[(0,Z.jsx)(p.Ix,{transition:p.Mi}),(0,Z.jsx)(C.Dx,{children:"Registration"}),(0,Z.jsxs)(P,{initialValues:{email:"",password:"",confirmPassword:"",name:"",city:"",phone:""},onSubmit:function(e,n){var t=e.email,s=e.password,a=e.confirmPassword,r=e.name,i=e.city,o=e.phone;s===a&&f((0,l.z2)({email:t,password:s,name:r,city:i,phone:o})).then((function(e){console.log(e),201===e.payload.code&&(y("/user",{replace:!0}),n.resetForm()),"Request failed with status code 409"===e.payload&&(0,m.c)("User with email ".concat(t," already exist"))}))},children:[(0,Z.jsxs)(L,{stepName:"UserMain",validationSchema:d.S$,children:[(0,Z.jsxs)(C.__,{children:[(0,Z.jsx)(C.II,{autoComplete:"off",type:"text",name:"email",placeholder:"Email"}),(0,Z.jsx)(d.pd,{name:"email"})]}),(0,Z.jsxs)(C.__,{children:[(0,Z.jsx)(C.II,{type:t?"text":"password",name:"password",placeholder:"Password",autoComplete:"off"}),(0,Z.jsx)(C.fn,{onClick:function(){s(!t)},children:t?(0,Z.jsx)(u.nJ9,{size:24}):(0,Z.jsx)(u.A7v,{size:24})}),(0,Z.jsx)(d.pd,{name:"password"})]}),(0,Z.jsxs)(C.__,{children:[(0,Z.jsx)(C.II,{type:h?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",autoComplete:"off"}),(0,Z.jsx)(C.fn,{onClick:function(){j(!h)},children:h?(0,Z.jsx)(u.nJ9,{size:24}):(0,Z.jsx)(u.A7v,{size:24})}),(0,Z.jsx)(d.pd,{name:"confirmPassword"})]})]}),(0,Z.jsxs)(L,{stepName:"UserLocation",validationSchema:d.Z1,children:[(0,Z.jsxs)(C.__,{children:[(0,Z.jsx)(C.II,{type:"text",name:"name",placeholder:"Name",autoComplete:"off"}),(0,Z.jsx)(d.pd,{name:"name"})]}),(0,Z.jsxs)(C.__,{children:[(0,Z.jsx)(C.II,{type:"text",name:"city",placeholder:"City, region",autoComplete:"off"}),(0,Z.jsx)(d.pd,{name:"city"})]}),(0,Z.jsxs)(C.__,{children:[(0,Z.jsx)(C.II,{type:"text",name:"phone",placeholder:"Mobile phone",autoComplete:"off"}),(0,Z.jsx)(d.pd,{name:"phone"})]})]})]})]})})})},A=function(){return(0,Z.jsx)(N,{})}}}]);
//# sourceMappingURL=787.61d246ca.chunk.js.map